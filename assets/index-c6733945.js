import{E as e,t as l,O as a,P as t,Q as i,M as o,f as d}from"./element-ca729cb6.js";import{g as r,a as n,c as s,u,b as c,d as m,e as p,f,h as v,p as g,i as b,j as y,k as _,l as h,m as w}from"./marketing-7335aaa0.js";import{v as V,r as k,k as C,l as U,ak as x,aq as z,y as S,B as O,E as q,C as T,D as Q,u as F,O as D,M as B,J as R,z as j,L as I,P,a3 as A}from"./vendor-60cd9ffe.js";import{_ as L}from"./index-30b3d731.js";const M={class:"marketing-page"},$={class:"stats-grid"},E={class:"stat-content"},J={class:"stat-icon coupons"},G={class:"stat-info"},H={class:"stat-value"},K={class:"stat-content"},N={class:"stat-icon active"},W={class:"stat-info"},X={class:"stat-value"},Y={class:"stat-content"},Z={class:"stat-icon used"},ee={class:"stat-info"},le={class:"stat-value"},ae={class:"stat-content"},te={class:"stat-icon banners"},ie={class:"stat-info"},oe={class:"stat-value"},de={class:"tab-toolbar"},re={class:"toolbar-left"},ne={class:"toolbar-right"},se={class:"discount-info"},ue={key:0},ce={class:"amount"},me={class:"condition"},pe={key:1},fe={class:"discount"},ve={class:"condition"},ge={class:"usage-info"},be={class:"progress-bar"},ye={class:"pagination-container"},_e={class:"tab-toolbar"},he={class:"toolbar-left"},we={class:"toolbar-right"},Ve={class:"price-info"},ke={class:"price"},Ce={class:"unit"},Ue={class:"rating"},xe={class:"pagination-container"},ze={class:"tab-toolbar"},Se={class:"toolbar-left"},Oe={class:"toolbar-right"},qe=L(V({__name:"index",setup(V){const L=k("coupons"),qe=k({totalCoupons:0,activeCoupons:0,usedCoupons:0,totalBanners:0}),Te=k([]),Qe=k(!1),Fe=k(""),De=k(!1),Be=C({page:1,pageSize:20,total:0}),Re=C({visible:!1,loading:!1,title:"",form:{name:"",type:"full",amount:0,discount:8,minSpend:0,totalQuantity:100,validDays:30,description:""}}),je=k([]),Ie=k(!1),Pe=k(""),Ae=k(""),Le=C({page:1,pageSize:20,total:0}),Me=C({visible:!1,loading:!1,title:"",imageFiles:[],form:{name:"",category:"",price:0,unit:"次",rating:4.5,image:"",description:"",providerCount:0,tags:[],status:"active",sortOrder:0}}),$e=k([]),Ee=k(!1),Je=k(""),Ge=C({visible:!1,loading:!1,title:"",imageFiles:[],dateRange:null,form:{title:"",imageUrl:"",linkUrl:"",sortOrder:0,startTime:"",endTime:"",status:"draft"}}),He=async()=>{if(De.value){Qe.value=!0;try{const e={page:Be.page,pageSize:Be.pageSize,status:Fe.value||void 0},l=await r(e);Te.value=l.list,Be.total=l.total}catch(l){e.error("获取优惠券列表失败")}finally{Qe.value=!1}}},Ke=async()=>{Ie.value=!0;try{const e={page:Le.page,pageSize:Le.pageSize,status:Pe.value||void 0,category:Ae.value||void 0},l=await n(e);je.value=l.list,Le.total=l.total}catch(l){e.error("获取限时特惠列表失败")}finally{Ie.value=!1}},Ne=()=>{Me.title="创建限时特惠",Me.form={name:"",category:"",price:0,unit:"次",rating:4.5,image:"",description:"",providerCount:0,tags:[],status:"active",sortOrder:0},Me.imageFiles=[],Me.visible=!0},We=async()=>{if(Me.form.name&&Me.form.category&&Me.form.price){Me.loading=!0;try{const l={...Me.form};if(Me.imageFiles.length>0&&(l.image=Me.imageFiles[0].url||Me.image),"创建限时特惠"===Me.title)await s(l),e.success("创建成功");else{if(!l.id)return void e.error("缺少限时特惠ID");await u(l.id,l),e.success("更新成功")}Me.visible=!1,Ke()}catch(l){e.error("操作失败")}finally{Me.loading=!1}}else e.warning("请填写完整信息")},Xe=e=>{Le.page=e,Ke()},Ye=e=>{Le.pageSize=e,Le.page=1,Ke()},Ze=async()=>{Ee.value=!0;try{const e={status:Je.value||void 0},l=await p(e);$e.value=l.list||l}catch(l){e.error("获取轮播图列表失败")}finally{Ee.value=!1}},el=()=>{Re.title="创建优惠券",Re.form={name:"",type:"full",amount:0,discount:8,minSpend:0,totalQuantity:100,validDays:30,description:""},Re.visible=!0},ll=async()=>{if(Re.form.name&&Re.form.minSpend&&Re.form.totalQuantity){Re.loading=!0;try{const l={name:Re.form.name,type:Re.form.type,amount:"discount"===Re.form.type?Re.form.discount/10:Re.form.amount,minSpend:Re.form.minSpend,totalQuantity:Re.form.totalQuantity,validDays:Re.form.validDays};"创建优惠券"===Re.title?(await f(l),e.success("创建成功")):(await v(Re.form.id||"",l),e.success("更新成功")),Re.visible=!1,He()}catch(l){e.error("操作失败")}finally{Re.loading=!1}}else e.warning("请填写完整信息")},al=()=>{Ge.title="添加轮播图",Ge.form={title:"",imageUrl:"",linkUrl:"",sortOrder:0,startTime:"",endTime:"",status:"draft"},Ge.dateRange=null,Ge.imageFiles=[],Ge.visible=!0},tl=async()=>{if(Ge.form.title){Ge.loading=!0;try{const l={...Ge.form};Ge.dateRange&&(l.startTime=Ge.dateRange[0].toISOString(),l.endTime=Ge.dateRange[1].toISOString()),"添加轮播图"===Ge.title?(await y(l),e.success("添加成功")):(await _(Ge.form.id||"",l),e.success("更新成功")),Ge.visible=!1,Ze()}catch(l){e.error("操作失败")}finally{Ge.loading=!1}}else e.warning("请输入标题")},il=e=>({active:"进行中",expired:"已结束",draft:"草稿"}[e]||e),ol=e=>{"specialOffers"===e?Ke():"banners"===e&&Ze()},dl=e=>{Be.page=e,He()},rl=e=>{Be.pageSize=e,Be.page=1,He()};return U(()=>{Qe.value=!0,r({page:Be.page,pageSize:Be.pageSize,status:Fe.value||void 0}).then(e=>{Te.value=e.list,Be.total=e.total}).catch(l=>{e.error("获取优惠券列表失败")}).finally(()=>{Qe.value=!1,De.value=!0})}),(r,n)=>{const s=x("el-icon"),u=x("el-card"),p=x("el-button"),f=x("el-option"),v=x("el-select"),y=x("el-table-column"),_=x("el-tag"),V=x("el-progress"),k=x("el-table"),C=x("el-pagination"),U=x("el-tab-pane"),De=x("el-image"),nl=x("el-rate"),sl=x("el-switch"),ul=x("el-link"),cl=x("el-tabs"),ml=x("el-input"),pl=x("el-form-item"),fl=x("el-radio"),vl=x("el-radio-group"),gl=x("el-input-number"),bl=x("el-form"),yl=x("el-dialog"),_l=x("el-upload"),hl=x("el-date-picker"),wl=z("loading");return S(),O("div",M,[q("div",$,[T(u,{class:"stat-card"},{default:Q(()=>[q("div",E,[q("div",J,[T(s,null,{default:Q(()=>[T(F(l))]),_:1})]),q("div",G,[q("div",H,D(qe.value.totalCoupons||0),1),n[40]||(n[40]=q("div",{class:"stat-label"},"优惠券总数",-1))])])]),_:1}),T(u,{class:"stat-card"},{default:Q(()=>[q("div",K,[q("div",N,[T(s,null,{default:Q(()=>[T(F(a))]),_:1})]),q("div",W,[q("div",X,D(qe.value.activeCoupons||0),1),n[41]||(n[41]=q("div",{class:"stat-label"},"进行中活动",-1))])])]),_:1}),T(u,{class:"stat-card"},{default:Q(()=>[q("div",Y,[q("div",Z,[T(s,null,{default:Q(()=>[T(F(t))]),_:1})]),q("div",ee,[q("div",le,D(qe.value.usedCoupons||0),1),n[42]||(n[42]=q("div",{class:"stat-label"},"已使用数量",-1))])])]),_:1}),T(u,{class:"stat-card"},{default:Q(()=>[q("div",ae,[q("div",te,[T(s,null,{default:Q(()=>[T(F(i))]),_:1})]),q("div",ie,[q("div",oe,D(qe.value.totalBanners||0),1),n[43]||(n[43]=q("div",{class:"stat-label"},"轮播图数量",-1))])])]),_:1})]),T(u,null,{default:Q(()=>[T(cl,{modelValue:L.value,"onUpdate:modelValue":n[8]||(n[8]=e=>L.value=e),onTabChange:ol},{default:Q(()=>[T(U,{label:"优惠券管理",name:"coupons"},{default:Q(()=>[q("div",de,[q("div",re,[T(p,{type:"primary",onClick:el},{default:Q(()=>[...n[44]||(n[44]=[B("创建优惠券",-1)])]),_:1}),T(p,{onClick:He,loading:Qe.value},{default:Q(()=>[...n[45]||(n[45]=[B("刷新",-1)])]),_:1},8,["loading"])]),q("div",ne,[T(v,{modelValue:Fe.value,"onUpdate:modelValue":n[0]||(n[0]=e=>Fe.value=e),placeholder:"筛选状态",style:{width:"120px"},onChange:He},{default:Q(()=>[T(f,{label:"全部",value:""}),T(f,{label:"进行中",value:"active"}),T(f,{label:"已结束",value:"expired"}),T(f,{label:"草稿",value:"draft"})]),_:1},8,["modelValue"])])]),R((S(),j(k,{data:Te.value,stripe:""},{default:Q(()=>[T(y,{prop:"name",label:"优惠券名称","min-width":"150"}),T(y,{prop:"type",label:"类型",width:"100",align:"center"},{default:Q(({row:e})=>[T(_,{type:"full"===e.type?"success":"warning"},{default:Q(()=>[B(D("full"===e.type?"满减":"折扣"),1)]),_:2},1032,["type"])]),_:1}),T(y,{label:"优惠信息",width:"150",align:"center"},{default:Q(({row:e})=>[q("div",se,["full"===e.type?(S(),O("div",ue,[q("span",ce,"¥"+D(e.amount),1),q("span",me,"满¥"+D(e.minSpend),1)])):(S(),O("div",pe,[q("span",fe,D((10*e.amount).toFixed(1))+"折",1),q("span",ve,"满¥"+D(e.minSpend),1)]))])]),_:1}),T(y,{prop:"totalQuantity",label:"总数量",width:"100",align:"center"}),T(y,{label:"使用情况",width:"120",align:"center"},{default:Q(({row:e})=>[q("div",ge,[q("div",null,D(e.usedQuantity||0),1),q("div",be,[T(V,{percentage:Math.round((e.usedQuantity||0)/e.totalQuantity*100),"stroke-width":4,"show-text":!1},null,8,["percentage"])])])]),_:1}),T(y,{prop:"status",label:"状态",width:"100",align:"center"},{default:Q(({row:e})=>{return[T(_,{type:(l=e.status,{active:"success",expired:"danger",draft:"warning"}[l]||"info")},{default:Q(()=>[B(D(il(e.status)),1)]),_:2},1032,["type"])];var l}),_:1}),T(y,{prop:"validDays",label:"有效期",width:"100",align:"center"},{default:Q(({row:e})=>[B(D(e.validDays)+"天 ",1)]),_:1}),T(y,{prop:"createdAt",label:"创建时间",width:"180"}),T(y,{label:"操作",width:"200",fixed:"right"},{default:Q(({row:l})=>[T(p,{link:"",type:"primary",size:"small",onClick:e=>{return a=l,Re.title="编辑优惠券",Re.form={name:a.name,type:a.type,amount:a.amount||0,discount:"discount"===a.type?10*a.amount:8,minSpend:a.minSpend,totalQuantity:a.totalQuantity,validDays:a.validDays,description:""},void(Re.visible=!0);var a}},{default:Q(()=>[...n[46]||(n[46]=[B(" 编辑 ",-1)])]),_:1},8,["onClick"]),T(p,{link:"",type:"success",size:"small",onClick:l=>{e.info("详情功能开发中")}},{default:Q(()=>[...n[47]||(n[47]=[B(" 详情 ",-1)])]),_:1},8,["onClick"]),"draft"===l.status?(S(),j(p,{key:0,link:"",type:"warning",size:"small",onClick:a=>(async l=>{try{await g(l.id),e.success("发布成功"),He()}catch(a){e.error("发布失败")}})(l)},{default:Q(()=>[...n[48]||(n[48]=[B(" 发布 ",-1)])]),_:1},8,["onClick"])):I("",!0),T(p,{link:"",type:"danger",size:"small",onClick:a=>(async l=>{try{await d.confirm(`确定要删除优惠券 "${l.name}" 吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await b(l.id),e.success("删除成功"),He()}catch(a){"cancel"!==a&&e.error("删除失败")}})(l)},{default:Q(()=>[...n[49]||(n[49]=[B(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[wl,Qe.value]]),q("div",ye,[T(C,{"current-page":Be.page,"onUpdate:currentPage":n[1]||(n[1]=e=>Be.page=e),"page-size":Be.pageSize,"onUpdate:pageSize":n[2]||(n[2]=e=>Be.pageSize=e),"page-sizes":[10,20,50],total:Be.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:rl,onCurrentChange:dl},null,8,["current-page","page-size","total"])])]),_:1}),T(U,{label:"限时特惠管理",name:"specialOffers"},{default:Q(()=>[q("div",_e,[q("div",he,[T(p,{type:"primary",onClick:Ne},{default:Q(()=>[...n[50]||(n[50]=[B("创建限时特惠",-1)])]),_:1}),T(p,{onClick:Ke,loading:Ie.value},{default:Q(()=>[...n[51]||(n[51]=[B("刷新",-1)])]),_:1},8,["loading"])]),q("div",we,[T(v,{modelValue:Pe.value,"onUpdate:modelValue":n[3]||(n[3]=e=>Pe.value=e),placeholder:"筛选状态",style:{width:"120px"},onChange:Ke},{default:Q(()=>[T(f,{label:"全部",value:""}),T(f,{label:"上架",value:"active"}),T(f,{label:"下架",value:"inactive"})]),_:1},8,["modelValue"]),T(v,{modelValue:Ae.value,"onUpdate:modelValue":n[4]||(n[4]=e=>Ae.value=e),placeholder:"筛选分类",style:{width:"120px"},onChange:Ke},{default:Q(()=>[T(f,{label:"全部",value:""}),T(f,{label:"保洁清洗",value:"保洁清洗"}),T(f,{label:"维修安装",value:"维修安装"}),T(f,{label:"搬家运输",value:"搬家运输"}),T(f,{label:"月嫂保姆",value:"月嫂保姆"})]),_:1},8,["modelValue"])])]),R((S(),j(k,{data:je.value,stripe:""},{default:Q(()=>[T(y,{label:"服务图片",width:"120"},{default:Q(({row:e})=>[T(De,{src:e.image,fit:"cover",class:"special-offer-preview","preview-src-list":[e.image]},null,8,["src","preview-src-list"])]),_:1}),T(y,{prop:"name",label:"服务名称","min-width":"150"}),T(y,{prop:"category",label:"分类",width:"120",align:"center"},{default:Q(({row:e})=>[T(_,{type:"info"},{default:Q(()=>[B(D(e.category),1)]),_:2},1024)]),_:1}),T(y,{label:"价格",width:"120",align:"center"},{default:Q(({row:e})=>[q("div",Ve,[q("div",ke,"¥"+D(e.price),1),q("div",Ce,"/"+D(e.unit),1)])]),_:1}),T(y,{prop:"rating",label:"评分",width:"100",align:"center"},{default:Q(({row:e})=>[q("div",Ue,[T(nl,{modelValue:e.rating,"onUpdate:modelValue":l=>e.rating=l,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}",size:"small"},null,8,["modelValue","onUpdate:modelValue"])])]),_:1}),T(y,{prop:"providerCount",label:"服务者数量",width:"120",align:"center"}),T(y,{label:"标签",width:"200"},{default:Q(({row:e})=>[(S(!0),O(P,null,A(e.tags,e=>(S(),j(_,{key:e,size:"small",style:{"margin-right":"4px","margin-bottom":"4px"}},{default:Q(()=>[B(D(e),1)]),_:2},1024))),128))]),_:1}),T(y,{prop:"sortOrder",label:"排序",width:"100",align:"center"}),T(y,{prop:"status",label:"状态",width:"100",align:"center"},{default:Q(({row:l})=>[T(sl,{"model-value":l.status,"active-value":"active","inactive-value":"inactive",onChange:a=>(async l=>{try{await c(l.id,l.status),e.success("状态更新成功");const a=je.value.findIndex(e=>e.id===l.id);-1!==a&&(je.value[a].status=l.status)}catch(a){e.error("状态更新失败")}})({...l,status:a})},null,8,["model-value","onChange"])]),_:1}),T(y,{prop:"createdAt",label:"创建时间",width:"180"}),T(y,{label:"操作",width:"200",fixed:"right"},{default:Q(({row:l})=>[T(p,{link:"",type:"primary",size:"small",onClick:e=>{return a=l,Me.title="编辑限时特惠",Me.form={name:a.name,category:a.category,price:a.price,unit:a.unit,rating:a.rating,image:a.image,description:a.description,providerCount:a.providerCount,tags:a.tags,status:a.status,sortOrder:a.sortOrder},Me.imageFiles=a.image?[{name:"specialOffer",url:a.image}]:[],void(Me.visible=!0);var a}},{default:Q(()=>[...n[52]||(n[52]=[B(" 编辑 ",-1)])]),_:1},8,["onClick"]),T(p,{link:"",type:"success",size:"small",onClick:l=>{e.info("详情功能开发中")}},{default:Q(()=>[...n[53]||(n[53]=[B(" 详情 ",-1)])]),_:1},8,["onClick"]),T(p,{link:"",type:"danger",size:"small",onClick:a=>(async l=>{try{await d.confirm(`确定要删除限时特惠 "${l.name}" 吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await m(l.id),e.success("删除成功"),Ke()}catch(a){"cancel"!==a&&e.error("删除失败")}})(l)},{default:Q(()=>[...n[54]||(n[54]=[B(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[wl,Ie.value]]),q("div",xe,[T(C,{"current-page":Le.page,"onUpdate:currentPage":n[5]||(n[5]=e=>Le.page=e),"page-size":Le.pageSize,"onUpdate:pageSize":n[6]||(n[6]=e=>Le.pageSize=e),"page-sizes":[10,20,50],total:Le.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Ye,onCurrentChange:Xe},null,8,["current-page","page-size","total"])])]),_:1}),T(U,{label:"轮播图管理",name:"banners"},{default:Q(()=>[q("div",ze,[q("div",Se,[T(p,{type:"primary",onClick:al},{default:Q(()=>[...n[55]||(n[55]=[B("添加轮播图",-1)])]),_:1}),T(p,{onClick:Ze,loading:Ee.value},{default:Q(()=>[...n[56]||(n[56]=[B("刷新",-1)])]),_:1},8,["loading"])]),q("div",Oe,[T(v,{modelValue:Je.value,"onUpdate:modelValue":n[7]||(n[7]=e=>Je.value=e),placeholder:"筛选状态",style:{width:"120px"},onChange:Ze},{default:Q(()=>[T(f,{label:"全部",value:""}),T(f,{label:"已发布",value:"published"}),T(f,{label:"草稿",value:"draft"})]),_:1},8,["modelValue"])])]),R((S(),j(k,{data:$e.value,stripe:""},{default:Q(()=>[T(y,{label:"预览图",width:"120"},{default:Q(({row:e})=>[T(De,{src:e.imageUrl,fit:"cover",class:"banner-preview","preview-src-list":[e.imageUrl]},null,8,["src","preview-src-list"])]),_:1}),T(y,{prop:"title",label:"标题","min-width":"150"}),T(y,{prop:"linkUrl",label:"链接地址","min-width":"200"},{default:Q(({row:e})=>[T(ul,{href:e.linkUrl,target:"_blank",type:"primary"},{default:Q(()=>[B(D(e.linkUrl),1)]),_:2},1032,["href"])]),_:1}),T(y,{prop:"sortOrder",label:"排序",width:"100",align:"center"}),T(y,{prop:"status",label:"状态",width:"100",align:"center"},{default:Q(({row:l})=>[T(sl,{"model-value":l.status,"active-value":"published","inactive-value":"draft",onChange:a=>(async l=>{try{await h(l.id.toString(),l.status),e.success("状态更新成功");const a=$e.value.findIndex(e=>e.id===l.id);-1!==a&&($e.value[a].status=l.status)}catch(a){e.error("状态更新失败")}})({...l,status:a})},null,8,["model-value","onChange"])]),_:1}),T(y,{prop:"createdAt",label:"创建时间",width:"180"}),T(y,{label:"操作",width:"150",fixed:"right"},{default:Q(({row:l})=>[T(p,{link:"",type:"primary",size:"small",onClick:e=>{return a=l,Ge.title="编辑轮播图",Ge.form={title:a.title,imageUrl:a.imageUrl,linkUrl:a.linkUrl,sortOrder:a.sortOrder,startTime:"",endTime:"",status:a.status},Ge.dateRange=null,Ge.imageFiles=a.imageUrl?[{name:"banner",url:a.imageUrl}]:[],void(Ge.visible=!0);var a}},{default:Q(()=>[...n[57]||(n[57]=[B(" 编辑 ",-1)])]),_:1},8,["onClick"]),T(p,{link:"",type:"danger",size:"small",onClick:a=>(async l=>{try{await d.confirm(`确定要删除轮播图 "${l.title}" 吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await w(l.id.toString()),e.success("删除成功"),Ze()}catch(a){"cancel"!==a&&e.error("删除失败")}})(l)},{default:Q(()=>[...n[58]||(n[58]=[B(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[wl,Ee.value]])]),_:1})]),_:1},8,["modelValue"])]),_:1}),T(yl,{modelValue:Re.visible,"onUpdate:modelValue":n[18]||(n[18]=e=>Re.visible=e),title:Re.title,width:"600px","close-on-click-modal":!1},{footer:Q(()=>[T(p,{onClick:n[17]||(n[17]=e=>Re.visible=!1)},{default:Q(()=>[...n[62]||(n[62]=[B("取消",-1)])]),_:1}),T(p,{type:"primary",loading:Re.loading,onClick:ll},{default:Q(()=>[...n[63]||(n[63]=[B(" 保存 ",-1)])]),_:1},8,["loading"])]),default:Q(()=>[T(bl,{model:Re.form,"label-width":"100px"},{default:Q(()=>[T(pl,{label:"优惠券名称",required:""},{default:Q(()=>[T(ml,{modelValue:Re.form.name,"onUpdate:modelValue":n[9]||(n[9]=e=>Re.form.name=e),placeholder:"请输入优惠券名称"},null,8,["modelValue"])]),_:1}),T(pl,{label:"优惠类型",required:""},{default:Q(()=>[T(vl,{modelValue:Re.form.type,"onUpdate:modelValue":n[10]||(n[10]=e=>Re.form.type=e)},{default:Q(()=>[T(fl,{label:"full"},{default:Q(()=>[...n[59]||(n[59]=[B("满减券",-1)])]),_:1}),T(fl,{label:"discount"},{default:Q(()=>[...n[60]||(n[60]=[B("折扣券",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),"full"===Re.form.type?(S(),j(pl,{key:0,label:"减免金额",required:""},{default:Q(()=>[T(gl,{modelValue:Re.form.amount,"onUpdate:modelValue":n[11]||(n[11]=e=>Re.form.amount=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})):I("",!0),"discount"===Re.form.type?(S(),j(pl,{key:1,label:"折扣",required:""},{default:Q(()=>[T(gl,{modelValue:Re.form.discount,"onUpdate:modelValue":n[12]||(n[12]=e=>Re.form.discount=e),min:.1,max:9.9,step:.1,precision:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1})):I("",!0),T(pl,{label:"使用门槛",required:""},{default:Q(()=>[T(gl,{modelValue:Re.form.minSpend,"onUpdate:modelValue":n[13]||(n[13]=e=>Re.form.minSpend=e),min:0,precision:2,style:{width:"100%"},placeholder:"最低消费金额"},null,8,["modelValue"])]),_:1}),T(pl,{label:"发放数量",required:""},{default:Q(()=>[T(gl,{modelValue:Re.form.totalQuantity,"onUpdate:modelValue":n[14]||(n[14]=e=>Re.form.totalQuantity=e),min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),T(pl,{label:"有效期",required:""},{default:Q(()=>[T(gl,{modelValue:Re.form.validDays,"onUpdate:modelValue":n[15]||(n[15]=e=>Re.form.validDays=e),min:1,style:{width:"100%"}},null,8,["modelValue"]),n[61]||(n[61]=q("span",{style:{"margin-left":"8px",color:"#909399"}},"天",-1))]),_:1}),T(pl,{label:"使用说明"},{default:Q(()=>[T(ml,{modelValue:Re.form.description,"onUpdate:modelValue":n[16]||(n[16]=e=>Re.form.description=e),type:"textarea",rows:3,placeholder:"请输入使用说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),T(yl,{modelValue:Me.visible,"onUpdate:modelValue":n[31]||(n[31]=e=>Me.visible=e),title:Me.title,width:"700px","close-on-click-modal":!1},{footer:Q(()=>[T(p,{onClick:n[30]||(n[30]=e=>Me.visible=!1)},{default:Q(()=>[...n[66]||(n[66]=[B("取消",-1)])]),_:1}),T(p,{type:"primary",loading:Me.loading,onClick:We},{default:Q(()=>[...n[67]||(n[67]=[B(" 保存 ",-1)])]),_:1},8,["loading"])]),default:Q(()=>[T(bl,{model:Me.form,"label-width":"100px"},{default:Q(()=>[T(pl,{label:"服务名称",required:""},{default:Q(()=>[T(ml,{modelValue:Me.form.name,"onUpdate:modelValue":n[19]||(n[19]=e=>Me.form.name=e),placeholder:"请输入服务名称"},null,8,["modelValue"])]),_:1}),T(pl,{label:"服务分类",required:""},{default:Q(()=>[T(v,{modelValue:Me.form.category,"onUpdate:modelValue":n[20]||(n[20]=e=>Me.form.category=e),placeholder:"请选择服务分类",style:{width:"100%"}},{default:Q(()=>[T(f,{label:"保洁清洗",value:"保洁清洗"}),T(f,{label:"维修安装",value:"维修安装"}),T(f,{label:"搬家运输",value:"搬家运输"}),T(f,{label:"月嫂保姆",value:"月嫂保姆"})]),_:1},8,["modelValue"])]),_:1}),T(pl,{label:"价格",required:""},{default:Q(()=>[T(gl,{modelValue:Me.form.price,"onUpdate:modelValue":n[21]||(n[21]=e=>Me.form.price=e),min:0,precision:2,style:{width:"200px"}},null,8,["modelValue"]),T(v,{modelValue:Me.form.unit,"onUpdate:modelValue":n[22]||(n[22]=e=>Me.form.unit=e),placeholder:"单位",style:{width:"100px","margin-left":"8px"}},{default:Q(()=>[T(f,{label:"次",value:"次"}),T(f,{label:"小时",value:"小时"}),T(f,{label:"天",value:"天"}),T(f,{label:"月",value:"月"})]),_:1},8,["modelValue"])]),_:1}),T(pl,{label:"评分",required:""},{default:Q(()=>[T(nl,{modelValue:Me.form.rating,"onUpdate:modelValue":n[23]||(n[23]=e=>Me.form.rating=e),max:5,step:.1,"show-score":"","text-color":"#ff9900","score-template":"{value}"},null,8,["modelValue"])]),_:1}),T(pl,{label:"服务图片",required:""},{default:Q(()=>[T(_l,{"file-list":Me.imageFiles,"onUpdate:fileList":n[24]||(n[24]=e=>Me.imageFiles=e),"auto-upload":!1,"list-type":"picture-card",limit:1},{default:Q(()=>[T(s,null,{default:Q(()=>[T(F(o))]),_:1})]),_:1},8,["file-list"])]),_:1}),T(pl,{label:"服务描述"},{default:Q(()=>[T(ml,{modelValue:Me.form.description,"onUpdate:modelValue":n[25]||(n[25]=e=>Me.form.description=e),type:"textarea",rows:3,placeholder:"请输入服务描述"},null,8,["modelValue"])]),_:1}),T(pl,{label:"服务者数量",required:""},{default:Q(()=>[T(gl,{modelValue:Me.form.providerCount,"onUpdate:modelValue":n[26]||(n[26]=e=>Me.form.providerCount=e),min:0,style:{width:"100%"},placeholder:"可提供此服务的服务者数量"},null,8,["modelValue"])]),_:1}),T(pl,{label:"服务标签"},{default:Q(()=>[T(v,{modelValue:Me.form.tags,"onUpdate:modelValue":n[27]||(n[27]=e=>Me.form.tags=e),multiple:"",filterable:"","allow-create":"",placeholder:"请输入或选择标签",style:{width:"100%"}},{default:Q(()=>[T(f,{label:"深度清洁",value:"深度清洁"}),T(f,{label:"除螨",value:"除螨"}),T(f,{label:"专业",value:"专业"}),T(f,{label:"上门服务",value:"上门服务"}),T(f,{label:"快速响应",value:"快速响应"})]),_:1},8,["modelValue"])]),_:1}),T(pl,{label:"排序"},{default:Q(()=>[T(gl,{modelValue:Me.form.sortOrder,"onUpdate:modelValue":n[28]||(n[28]=e=>Me.form.sortOrder=e),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),T(pl,{label:"状态"},{default:Q(()=>[T(vl,{modelValue:Me.form.status,"onUpdate:modelValue":n[29]||(n[29]=e=>Me.form.status=e)},{default:Q(()=>[T(fl,{label:"active"},{default:Q(()=>[...n[64]||(n[64]=[B("上架",-1)])]),_:1}),T(fl,{label:"inactive"},{default:Q(()=>[...n[65]||(n[65]=[B("下架",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),T(yl,{modelValue:Ge.visible,"onUpdate:modelValue":n[39]||(n[39]=e=>Ge.visible=e),title:Ge.title,width:"600px","close-on-click-modal":!1},{footer:Q(()=>[T(p,{onClick:n[38]||(n[38]=e=>Ge.visible=!1)},{default:Q(()=>[...n[70]||(n[70]=[B("取消",-1)])]),_:1}),T(p,{type:"primary",loading:Ge.loading,onClick:tl},{default:Q(()=>[...n[71]||(n[71]=[B(" 保存 ",-1)])]),_:1},8,["loading"])]),default:Q(()=>[T(bl,{model:Ge.form,"label-width":"100px"},{default:Q(()=>[T(pl,{label:"标题",required:""},{default:Q(()=>[T(ml,{modelValue:Ge.form.title,"onUpdate:modelValue":n[32]||(n[32]=e=>Ge.form.title=e),placeholder:"请输入轮播图标题"},null,8,["modelValue"])]),_:1}),T(pl,{label:"图片",required:""},{default:Q(()=>[T(_l,{"file-list":Ge.imageFiles,"onUpdate:fileList":n[33]||(n[33]=e=>Ge.imageFiles=e),"auto-upload":!1,"list-type":"picture-card",limit:1},{default:Q(()=>[T(s,null,{default:Q(()=>[T(F(o))]),_:1})]),_:1},8,["file-list"])]),_:1}),T(pl,{label:"链接地址"},{default:Q(()=>[T(ml,{modelValue:Ge.form.linkUrl,"onUpdate:modelValue":n[34]||(n[34]=e=>Ge.form.linkUrl=e),placeholder:"请输入链接地址"},null,8,["modelValue"])]),_:1}),T(pl,{label:"排序"},{default:Q(()=>[T(gl,{modelValue:Ge.form.sortOrder,"onUpdate:modelValue":n[35]||(n[35]=e=>Ge.form.sortOrder=e),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),T(pl,{label:"展示时间"},{default:Q(()=>[T(hl,{modelValue:Ge.dateRange,"onUpdate:modelValue":n[36]||(n[36]=e=>Ge.dateRange=e),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),T(pl,{label:"状态"},{default:Q(()=>[T(vl,{modelValue:Ge.form.status,"onUpdate:modelValue":n[37]||(n[37]=e=>Ge.form.status=e)},{default:Q(()=>[T(fl,{label:"published"},{default:Q(()=>[...n[68]||(n[68]=[B("已发布",-1)])]),_:1}),T(fl,{label:"draft"},{default:Q(()=>[...n[69]||(n[69]=[B("草稿",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-c8bd16cf"]]);export{qe as default};
