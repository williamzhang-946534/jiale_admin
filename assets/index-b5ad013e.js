import{v as e,r as a,k as s,B as l,E as r,C as o,D as i,ak as n,ay as t,y as u,u as d,ag as p,M as m}from"./vendor-60cd9ffe.js";import{u as c,l as f,E as g}from"./element-1136478b.js";import{u as v,_ as y}from"./index-37da5009.js";const _={class:"login-container"},w={class:"login-form"},h=y(e({__name:"index",setup(e){const y=t(),h=v(),x=a(),b=a(!1),V=s({username:"admin",password:"123456"}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},j=async()=>{x.value&&await x.value.validate(async e=>{if(e){b.value=!0;try{await h.login(V),g.success("登录成功"),y.push("/")}catch(a){g.error("登录失败，请检查用户名和密码")}finally{b.value=!1}}})};return(e,a)=>{const s=n("el-input"),t=n("el-form-item"),g=n("el-button"),v=n("el-form");return u(),l("div",_,[r("div",w,[a[3]||(a[3]=r("div",{class:"login-header"},[r("h2",{class:"login-title"},"家乐家政"),r("p",{class:"login-subtitle"},"后台管理系统")],-1)),o(v,{ref_key:"formRef",ref:x,model:V,rules:k,"label-width":"0px",class:"login-form-content"},{default:i(()=>[o(t,{prop:"username"},{default:i(()=>[o(s,{modelValue:V.username,"onUpdate:modelValue":a[0]||(a[0]=e=>V.username=e),placeholder:"请输入用户名",size:"large","prefix-icon":d(c)},null,8,["modelValue","prefix-icon"])]),_:1}),o(t,{prop:"password"},{default:i(()=>[o(s,{modelValue:V.password,"onUpdate:modelValue":a[1]||(a[1]=e=>V.password=e),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":d(f),onKeyup:p(j,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(t,null,{default:i(()=>[o(g,{type:"primary",size:"large",style:{width:"100%"},loading:b.value,onClick:j},{default:i(()=>[...a[2]||(a[2]=[m(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}}),[["__scopeId","data-v-6c6b7aa6"]]);export{h as default};
